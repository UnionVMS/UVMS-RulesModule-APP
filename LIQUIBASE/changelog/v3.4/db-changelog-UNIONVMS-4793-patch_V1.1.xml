<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd">
    <changeSet id="UNIONVMS-4793-rule-updates-for-632-to-635-and-637" author="imitrolios">


        <update tableName="context_expression">
            <column name="expression"
                    value="!isEmpty(ids) &amp;&amp; !schemeIdContainsAll(ids, &quot;IRCS&quot;, &quot;EXT_MARK&quot;)
                        &amp;&amp; resolveTransportMeanAssetForIrcsAndExtMarkIds() == null"/>
            <where>id = '637'</where>
        </update>


        <update tableName="context_expression">
            <column name="expression" value="!isEmpty(ids) &amp;&amp; !schemeIdContainsAll(ids, &quot;UVI&quot;)
                            &amp;&amp; resolveTransportMeanAssetForUviId() == null"/>
            <where>id = '638'</where>
        </update>

        <rollback>
            <update tableName="context_expression">
                <column name="expression"
                        value="!isEmpty(ids) &amp;&amp; !schemeIdContainsAll(ids, &quot;IRCS&quot;, &quot;EXT_MARK&quot;)
                        &amp;&amp; (transportMeans == null
                        || transportMeans.asset == null)"/>
                <where>id = '637'</where>
            </update>
            <update tableName="context_expression">
                <column name="expression" value="!isEmpty(ids) &amp;&amp; !schemeIdContainsAll(ids, &quot;UVI&quot;)
                            &amp;&amp; (transportMeans == null
                            || transportMeans.asset == null)"/>
                <where>id = '638'</where>
            </update>
        </rollback>
    </changeSet>
</databaseChangeLog>